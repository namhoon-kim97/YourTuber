<!-- card_templates.html -->
<div class="column is-3">
  <div class="card">
    <div
      class="card-content"
      style="padding-bottom: 10px; cursor: pointer"
      data-nickname="{{ nickname }}"
      data-cardnickname="{{card_nickname}}"
    >
      <!-- ì¹´ë“œ ì œëª© -->
      <!-- like unlike ëª¨ì•„ë‘   -->

      {%if card.is_liked_by_user%}
      <button
        type="submit"
        class="emoji-button"
        onclick="unlikeCard('{{ nickname }}', '{{ card_nickname }}')"
      >
        ğŸ©·<span style="font-size: 20px"> {{like_count}} </span>
      </button>
      {%else%}
      <button
        type="submit"
        class="emoji-button"
        onclick="likeCard('{{ nickname }}', '{{ card_nickname }}')"
      >
        ğŸ¤<span style="font-size: 20px"> {{like_count}} </span>
      </button>

      {% endif %}
      <!-- like unlike ì—¬ê¸°ê¹Œì§€ -->

      <p class="title">
        <span style="font-size: 0.8em">{{card_nickname}} </span>
      </p>
      <hr class="has-background-grey-lighter" />
      <!-- ì¹´ë“œ ë‚´ìš©  -->
      <div class="subtitle">
        <!-- dbì— ìˆëŠ” ë‚´ìš©ë“¤ listë¡œ ì¶”ê°€-->
      </div>
      {% for channel in channels_info %}
      <!-- ì¹´ë“œ ë‚´ìš©  -->
      <div class="subtitle">
        <article class="media">
          <figure class="media-left">
            <p class="image is-64x64">
              <img src="{{channel['channel_image']}}" />
            </p>
          </figure>
          <div class="media-content">
            <div class="content">
              <p>
                <!-- channelë”•ì…”ë„ˆë¦¬ì—ì„œ ê°€ì ¸ì˜¤ê¸° -->
                <a href="{{ channel['url_link'] }}">
                  <strong>{{ channel['channel_title'] }}</strong>
                </a>
              </p>
            </div>
          </div>
        </article>
      </div>
      {% endfor %}
      <div></div>
      <footer
        class="card-footer"
        style="min-height: 50px; display: flex; align-items: center"
      >
        {%if nickname == card['user_nickname']%}
        <!-- ìˆ˜ì •ë²„íŠ¼ -->
        <div class="modal" id="card-correct">
          <div class="modal-background"></div>
          <div class="modal-card">
            <header class="modal-card-head">
              <p class="modal-card-title">ê¸€ ìˆ˜ì •</p>
              <button
                class="delete"
                aria-label="close"
                onclick="closeModal('card-correct')"
              ></button>
            </header>
            <section class="modal-card-body">
              <div class="field">
                <label class="label">ì¹´ë“œê¸€ ìˆ˜ì •</label>
                <div class="control">
                  <textarea
                    class="textarea"
                    id="card-title"
                    placeholder="ê²Œì‹œê¸€ ìˆ˜ì •"
                  ></textarea>
                </div>
                <label class="label">Youtube channel URL</label>
                <div class="control has-icons-left has-icons-right">
                  <input
                    class="input is-success"
                    type="text"
                    id="youtube-url"
                    placeholder="https://www.youtube.com/~~~"
                  />
                  <span class="icon is-small is-left">
                    <i class="fa-brands fa-youtube"></i>
                  </span>
                </div>
                <p class="help is-success">This username is available</p>
                <p class="help is-danger">This username is not available</p>
                <label class="label">youtuber ì†Œê°œê¸€</label>
                <div class="control">
                  <textarea
                    class="textarea"
                    placeholder="ì†Œê°œê¸€ ì‘ì„±"
                    id="channel-description"
                  ></textarea>
                </div>
              </div>
            </section>
            <footer class="modal-card-foot">
              <button
                class="button is-success"
                onclick="correctCard('${nickname}')"
              >
                ìˆ˜ì • ì™„ë£Œ
              </button>
              <button
                id="cancelEditButton"
                class="button"
                onclick="closeModal('card-correct')"
              >
                ì·¨ì†Œ
              </button>
            </footer>
          </div>
        </div>
        <button
          class="emoji-button"
          onclick="opencorrectModal('card-correct','${nickname}')"
        >
          âœï¸
        </button>

        <!-- ì‚­ì œë²„íŠ¼ -->
        <form
          action="{{ url_for('delete_card', nickname=nickname) }}"
          method="post"
        >
          <button type="submit" class="emoji-button" value="Delete">âŒ</button>
        </form>
        {%else%} <span> </span>
        {%endif%}
      </footer>
    </div>
  </div>
</div>
